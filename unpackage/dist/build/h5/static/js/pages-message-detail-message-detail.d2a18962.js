(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-message-detail-message-detail"],{"0473":function(t,e,n){var i=n("a2a9");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("3875b576",i,!0,{sourceMap:!1,shadowMode:!1})},"1ba9":function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"CulChat",props:{list:{type:Array,default:function(){return[]}},scrollHeight:{type:Number,default:function(){var t=0;return uni.getSystemInfo({success:function(e){t=e.windowHeight}}),t}},meAvatar:{type:String|Object},anotherAvatar:{type:String|Object}},data:function(){return{conversion:!0,msgInput:{msg1:"",msg2:""},msgList:[],msgs:[],scrollIndex:""}},methods:{jumpScroll:function(){this.scrollIndex="",this.$nextTick((function(){this.scrollIndex="msg-"+(this.list.length-1)}))},sub1:function(t){this.conversion||this.sub(t)},sub2:function(t){this.conversion&&this.sub(t)},sub:function(t){var e=this;if(t){this.msgInput.msg1="",this.msgInput.msg2="";var n={type:1,messageContent:t};this.list.push(n),this.conversion=!this.conversion,this.jumpScroll(),this.$emit("submit",{message:t,callback:function(t){var n={type:2,messageContent:t};e.list.push(n),e.jumpScroll()}})}else this.conversion=!this.conversion,this.jumpScroll()}}};e.default=i},"31cb":function(t,e,n){"use strict";n.r(e);var i=n("32c5"),a=n("e4ca");for(var s in a)"default"!==s&&function(t){n.d(e,t,(function(){return a[t]}))}(s);var r,o=n("f0c5"),u=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"67157b0f",null,!1,i["a"],r);e["default"]=u.exports},"32c5":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return i}));var i={culChat:n("99db").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("cul-chat",{attrs:{anotherAvatar:t.anavatar,meAvatar:t.myavatar,list:t.msgList},on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.sendMsg.apply(void 0,arguments)}}})],1)},s=[]},"955e":function(t,e,n){"use strict";var i=n("0473"),a=n.n(i);a.a},"99db":function(t,e,n){"use strict";n.r(e);var i=n("d8dd"),a=n("9b7d");for(var s in a)"default"!==s&&function(t){n.d(e,t,(function(){return a[t]}))}(s);n("955e");var r,o=n("f0c5"),u=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"2fb32907",null,!1,i["a"],r);e["default"]=u.exports},"9b7d":function(t,e,n){"use strict";n.r(e);var i=n("1ba9"),a=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=a.a},a2a9:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'*[data-v-2fb32907]{box-sizing:border-box;overflow:hidden}.cul-wrapper[data-v-2fb32907]{width:100vw;padding:0 %?35?%;margin-top:10px;box-sizing:border-box;background-color:#fff}.msg-me[data-v-2fb32907],\n.msg-service[data-v-2fb32907]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;width:%?680?%;margin:%?30?% 0;box-sizing:border-box;overflow:hidden}.msg-me[data-v-2fb32907]{-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.msg-service[data-v-2fb32907]{-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.avatar[data-v-2fb32907]{width:%?100?%;height:%?100?%;border-radius:50%}.msg-text[data-v-2fb32907]{width:%?560?%}.msg-me>.msg-text[data-v-2fb32907]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.msg-text-content[data-v-2fb32907]{line-height:%?35?%;display:inline-block;box-sizing:border-box;padding:%?30?%;font-size:%?28?%}.msg-me>.msg-text>.msg-text-content[data-v-2fb32907]{margin-left:%?70?%;background-color:#fff;border:%?1?% solid #d5e0e5;border-top-right-radius:%?20?%;border-bottom-left-radius:%?30?%;border-top-left-radius:%?10?%;margin-right:%?15?%}.msg-service>.msg-text>.msg-text-content[data-v-2fb32907]{color:#fff;margin-left:%?15?%;background-color:#3875ff;border-top-left-radius:%?20?%;border-bottom-right-radius:%?30?%;border-top-right-radius:%?10?%;margin-right:%?70?%}.operation[data-v-2fb32907]{display:-webkit-box;display:-webkit-flex;display:flex;position:fixed;left:0;bottom:0;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#fff;padding:10px %?35?%;border-top:%?1?% solid hsla(0,0%,72.2%,.1);width:100vw}.conversion[data-v-2fb32907]{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-webkit-flex-direction:row-reverse;flex-direction:row-reverse;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.msg-input1[data-v-2fb32907]{background:#fff;height:40px;width:%?520?%;border-radius:10px;padding:0 %?20?%;border:%?1?% solid rgba(0,0,0,.1)}.msg-input2[data-v-2fb32907]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:%?140?%;margin-left:%?30?%;height:40px;background-color:#007aff;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAFWUlEQVRoQ+1ZaaydUxRdS0JEEPOsKiFCDE1oDPFDKX4QQytmWsQs0UpEDU1brRZFq4m5VBFS1ZqSJyGqQmjQHxKEGoNE0JiFBlmyXvb3cnru9917v9f73rtNun+139nn3LX2cPY++xHruXA9x48NBAbDg5LOB3AlgB0A9JD0v3ulaz0gabcAfQWALRND/UjSRLqTgKTRAfyUCu9+RnLvriIgaaMAfTmAfVuE5RKSp3UFAUn7BfDxADYrAf4VgFsB7A/gqlifTHLGkBKQNBbAZQAcLmWy1MBJvutFSS8DODYUTyL54qATkLRVWHscgL4YTtD/BeCWAP5f8T32vQ9gWHwbRvKbQSMg6XAAlwI4G8DGJeZ+A8Aski+VuULSoQBWxNpqktunegN2jUq6AIDv76MqwmRuWPv7dF3ScJKO/V6JGrAw/ruM5DEDRkDSHgAuAXAWgD1LgH8KYDrJx/M1SUcAMKmR9hjJB4OAw+qG0J9D8pqOE5B0PIDzIkzKvPoUgJkkP6gIk9MB3A9g61hfTnJUEHgGgJPeMp5k4Y3eD/0OIUmO54vD2keWAPsNwDSSd1WEUBEiEwGkOmsAjCHZE/XhcwDD44wRJJ3QfVKbgKQDAJwbwHcvAfcagJtJLm8GPKx7J4A0JL4EMI6kE9vx76L2UZyzhuSm+ZltE5B0coA+owLYbAAzSNryTUXSFgAeApCe9WaA/6LYLMntxLPx/5UkD6lFQNK2AM4J4IeVoLJ1HCZPtwKdgLJVnaBp2Hm/Lf93eo6k66IS+/NCkq7Ya0mpByQdHAnpu3unEnCPRZg4PtsWSa6mBl/EtPfOJek8aBBJC5y4sTCRpG+pagKS3Kbem2R9qvxTWHte24gTxagLD2TF7FqSd1SdJ8k5UZA9mqTzqykBK+SFx32Iw+St/gD3HkmT7bFk/78RMk82Ab8rgG+T9W1I/tyKgC3kQpTK7REuf/aHgKT8zK9doUm+3uw8Sa4Dy0JnFcl9yvQbckDSBABzMmXfDFPLKmgTC24H4FEAJyQ6b4flXZGbiiR3q/eF0lKSRTGrDqFiRdImABYByF9Fz7tjLNrcJuBHBPiDEp0lAb4tT2YJ7LoypS0PpEqSfNW593YrnMpMALNJ/pIfKulEAL497IFC5pG8upXVs99OE3gsSb8RGqStQibJ1dJVM5VPopt0mPSKJD8JfYulMonkbTXBbw7g92TPXiRLr+y2CAQ4P+uml4TVc/ZGxHrRNfZuiWR9og74+C3Xofdi33ckd6k6o20CiZUvDG/kYZX+hq8/V9biFqnFQZKLl8PQ8grJ4zpGICzkJu6mkivXy+8E+I9roU6UswRueAOk59b2QLo5HueupEW1dONly6fxW5tHVoEvIvlIRz2QkfD1NjW+uVZMq4042yDJ+VPISJJFPjQcvU4eiHAqJRAzH3eZv0bDtrgdYpI8sVgVun8AcAvxz6B7QJJnmvckP+zr1u+Fph1slsArSHqqUSkD5oHwThoK/uQJhEcod1chyhJ4Pkk/W4eGQJCYBWBShsAd7hSSxbynbzlL4AnNyHrTgHqgQCXJ125PzDhTLh4fXp9dCqnXRpN8dUg9kIHz8zSvzB613EjyBQ+1ALgHKmRHkj90DYEIqZ1jjHJmBuxhAH7YFxX4Q5JuX5rKoIRQGQJJHmbNB+AJRSGrky52EcmcZMNRQ0YgvOFBretI39+8EoRr/R2gyg1DSiBJ8jFB5MAE6Kkk3el2ZwjlqCR5Lmpv+OGzmKRDrKV0wgOeYhTjjlHtjBRboqqhsM4EIpb9AAHJlTV+uyOqHSHQEST9PGQDgX4armPb1nsP/A8hPApP6jUidgAAAABJRU5ErkJggg==");background-repeat:no-repeat;background-position:50%;background-size:20px 20px;border-radius:10px;\n\t/*这个颜色是因为组件位置交换的时候，字体会有一瞬间继续留在框内，这里把内容变为透明即可*/color:transparent}',""]),t.exports=e},c729:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{formData:[],msgList:[],myavatar:"",anavatar:""}},methods:{sendMsg:function(e){var n=this.Server+"chat/send";this.$http.post(n,{messageContent:e.message,receiverId:this.formData.id}).then((function(e){t.log(e)}))}},onLoad:function(t){var e=this;this.formData=JSON.parse(t.params),uni.setNavigationBarTitle({title:this.formData.nickname});var n=this.Server+"chat/detail?userId="+this.formData.id;this.$http.get(n).then((function(t){e.msgList=t.body.data.pageInfo.list;for(var n=0;n<e.msgList.length;n++)1==e.msgList[n].type&&(e.myavatar=e.msgList[n].firstIcon),2==e.msgList[n].type&&(e.anavatar=e.msgList[n].firstIcon)}))}};e.default=n}).call(this,n("5a52")["default"])},d8dd:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"cul-wrapper"},[n("v-uni-scroll-view",{style:{height:t.scrollHeight-70+"px"},attrs:{"scroll-y":!0,"scroll-into-view":t.scrollIndex,"scroll-with-animation":!0}},[t._l(t.list,(function(e,i){return[n("v-uni-view",{key:i+"_0",class:[1==e.type?"msg-me":"msg-service"],attrs:{id:"msg-"+i}},[2==e.type?n("v-uni-image",{staticClass:"avatar",attrs:{src:t.anotherAvatar,"lazy-load":!0}}):t._e(),n("v-uni-view",{staticClass:"msg-text"},[n("v-uni-view",{staticClass:"msg-text-content"},[n("v-uni-text",[t._v(t._s(e.messageContent))])],1)],1),1==e.type?n("v-uni-image",{staticClass:"avatar",attrs:{src:t.meAvatar,"lazy-load":!0}}):t._e()],1)]}))],2),n("v-uni-view",{staticClass:"operation",class:{conversion:!t.conversion}},[n("v-uni-input",{class:[t.conversion?"msg-input1":"msg-input2"],attrs:{type:"text"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sub1(t.msgInput.msg2)}},model:{value:t.msgInput.msg1,callback:function(e){t.$set(t.msgInput,"msg1",e)},expression:"msgInput.msg1"}}),n("v-uni-input",{class:[t.conversion?"msg-input2":"msg-input1"],attrs:{type:"text"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sub2(t.msgInput.msg1)}},model:{value:t.msgInput.msg2,callback:function(e){t.$set(t.msgInput,"msg2",e)},expression:"msgInput.msg2"}})],1)],1)},s=[]},e4ca:function(t,e,n){"use strict";n.r(e);var i=n("c729"),a=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=a.a}}]);